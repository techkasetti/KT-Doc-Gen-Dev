<template>
    <lightning-card title="Document Generator" icon-name="standard:document">
        <div class="slds-p-horizontal_medium">
            <!-- Progress Indicator -->
            <lightning-progress-indicator 
                current-step={currentStep} 
                type="base" 
                variant="base">
                <lightning-progress-step 
                    label="Document Type" 
                    value="step1">
                </lightning-progress-step>
                <lightning-progress-step 
                    label="Configuration" 
                    value="step2">
                </lightning-progress-step>
                <lightning-progress-step 
                    label="Generate" 
                    value="step3">
                </lightning-progress-step>
                <lightning-progress-step 
                    label="Review" 
                    value="step4">
                </lightning-progress-step>
            </lightning-progress-indicator>

            <!-- Step 1: Document Type Selection -->
            <div if:true={isStep1} class="slds-m-top_medium">
                <lightning-combobox
                    name="region"
                    label="Select Region"
                    value={selectedRegion}
                    placeholder="Choose Region"
                    options={regionOptions}
                    onchange={handleRegionChange}
                    required>
                </lightning-combobox>

                <lightning-combobox
                    name="role"
                    label="Select Role"
                    value={selectedRole}
                    placeholder="Choose Role"
                    options={roleOptions}
                    onchange={handleRoleChange}
                    class="slds-m-top_small"
                    required>
                </lightning-combobox>

                <lightning-combobox
                    name="contractType"
                    label="Contract Type"
                    value={selectedContractType}
                    placeholder="Choose Contract Type"
                    options={contractTypeOptions}
                    onchange={handleContractTypeChange}
                    class="slds-m-top_small"
                    required>
                </lightning-combobox>
            </div>

            <!-- Step 2: Configuration -->
            <div if:true={isStep2} class="slds-m-top_medium">
                <lightning-textarea
                    name="additionalClauses"
                    label="Additional Clauses (Optional)"
                    value={additionalClauses}
                    placeholder="Enter any additional clauses or requirements"
                    max-length="1000"
                    onchange={handleAdditionalClausesChange}>
                </lightning-textarea>

                <lightning-combobox
                    name="outputFormat"
                    label="Output Format"
                    value={selectedOutputFormat}
                    placeholder="Choose Output Format"
                    options={outputFormatOptions}
                    onchange={handleOutputFormatChange}
                    class="slds-m-top_small"
                    required>
                </lightning-combobox>

                <lightning-input
                    type="checkbox"
                    label="Include E-Signature Request"
                    checked={includeSignature}
                    onchange={handleSignatureToggle}
                    class="slds-m-top_small">
                </lightning-input>

                <div if:true={includeSignature} class="slds-m-top_small">
                    <lightning-input
                        type="email"
                        label="Signer Email"
                        value={signerEmail}
                        placeholder="Enter signer email"
                        onchange={handleSignerEmailChange}
                        required>
                    </lightning-input>
                </div>
            </div>

            <!-- Step 3: Generate Document -->
            <div if:true={isStep3} class="slds-m-top_medium">
                <div class="slds-text-align_center">
                    <lightning-spinner if:true={isGenerating} alternative-text="Generating document...">
                    </lightning-spinner>
                    
                    <div if:false={isGenerating}>
                        <lightning-button
                            variant="brand"
                            label="Generate Document"
                            onclick={handleGenerateDocument}
                            class="slds-m-bottom_medium">
                        </lightning-button>
                    </div>

                    <div if:true={generatedClause} class="slds-box slds-theme_default slds-m-top_medium">
                        <h3 class="slds-text-heading_small slds-m-bottom_small">Generated Document Preview:</h3>
                        <div class="generated-content">
                            {generatedClause}
                        </div>
                        
                        <div if:true={complianceStatus} class="slds-m-top_small">
                            <lightning-badge 
                                label={complianceStatusLabel}
                                variant={complianceVariant}>
                            </lightning-badge>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4: Review and Actions -->
            <div if:true={isStep4} class="slds-m-top_medium">
                <div class="slds-text-align_center">
                    <lightning-button-group>
                        <lightning-button
                            variant="success"
                            label="Download Document"
                            onclick={handleDownload}
                            disabled={isNotdocumentGenerated}>
                        </lightning-button>
                        
                        <lightning-button
                            variant="brand"
                            label="Send for Signature"
                            onclick={handleSendForSignature}
                            disabled={isNotincludeSignature}>
                        </lightning-button>
                        
                        <lightning-button
                            variant="neutral"
                            label="Generate New"
                            onclick={handleReset}>
                        </lightning-button>
                    </lightning-button-group>
                </div>

                <div if:true={signatureRequestId} class="slds-m-top_medium">
                    <lightning-formatted-text 
                        value="Signature request sent successfully! Request ID: {0}"
                        link-text={signatureRequestId}>
                    </lightning-formatted-text>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="slds-m-top_large slds-text-align_center">
                <lightning-button-group>
                    <lightning-button
                        variant="neutral"
                        label="Previous"
                        onclick={handlePrevious}
                        disabled={isFirstStep}>
                    </lightning-button>
                    
                    <lightning-button
                        variant="brand"
                        label="Next"
                        onclick={handleNext}
                        disabled={isLastStep}>
                    </lightning-button>
                </lightning-button-group>
            </div>
        </div>
    </lightning-card>
</template>


<!-- version 5 -->
<!-- 
<template>
    <lightning-card title="Document Generation" icon-name="standard:document">
        <lightning-progress-indicator current-step={currentStep} type="path">
            <lightning-progress-step label="Document Type" value="1"></lightning-progress-step>
            <lightning-progress-step label="Configuration" value="2"></lightning-progress-step>
            <lightning-progress-step label="Review" value="3"></lightning-progress-step>
            <lightning-progress-step label="Generate" value="4"></lightning-progress-step>
        </lightning-progress-indicator>

<template if:true={isStep1}>
    <div class="slds-p-around_medium">
        <h3 class="slds-text-heading_small slds-m-bottom_medium">Select Document Type</h3>
        
        <lightning-radio-group
            name="contractType"
            label="Contract Type"
            options={contractTypeOptions}
            value={contractType}
            onchange={handleContractTypeChange}
            required>
        </lightning-radio-group>
        
        <lightning-combobox
            name="region"
            label="Region"
            placeholder="Select Region"
            options={regionOptions}
            value={region}
            onchange={handleRegionChange}
            class="slds-m-top_medium"
            required>
        </lightning-combobox>
        
        <lightning-combobox
            name="role"
            label="Role"
            placeholder="Select Role"
            options={roleOptions}
            value={role}
            onchange={handleRoleChange}
            class="slds-m-top_medium"
            required>
        </lightning-combobox>
    </div>
</template>

<template if:true={isStep2}>
    <div class="slds-p-around_medium">
        <h3 class="slds-text-heading_small slds-m-bottom_medium">Document Configuration</h3>
        
        <lightning-textarea
            label="Additional Requirements"
            placeholder="Enter any specific requirements or notes..."
            value={additionalNotes}
            onchange={handleNotesChange}
            max-length="500">
        </lightning-textarea>
        
        <lightning-combobox
            label="Output Format"
            placeholder="Select Format"
            options={formatOptions}
            value={outputFormat}
            onchange={handleFormatChange}
            class="slds-m-top_medium"
            required>
        </lightning-combobox>
        
        <lightning-input
            type="email"
            label="Primary Signer Email"
            value={signerEmail}
            onchange={handleSignerEmailChange}
            class="slds-m-top_medium"
            required>
        </lightning-input>
        
        <lightning-input
            type="text"
            label="Primary Signer Name"
            value={signerName}
            onchange={handleSignerNameChange}
            class="slds-m-top_medium"
            required>
        </lightning-input>
    </div>
</template>

<template if:true={isStep3}>
    <div class="slds-p-around_medium">
        <h3 class="slds-text-heading_small slds-m-bottom_medium">Review Configuration</h3>
        
        <div class="review-section slds-box slds-theme_shade">
            <dl class="slds-list_horizontal slds-wrap">
                <dt class="slds-item_label slds-text-color_weak">Contract Type:</dt>
                <dd class="slds-item_detail">{contractType}</dd>
                
                <dt class="slds-item_label slds-text-color_weak">Region:</dt>
                <dd class="slds-item_detail">{region}</dd>
                
                <dt class="slds-item_label slds-text-color_weak">Role:</dt>
                <dd class="slds-item_detail">{role}</dd>
                
                <dt class="slds-item_label slds-text-color_weak">Output Format:</dt>
                <dd class="slds-item_detail">{outputFormat}</dd>
                
                <dt class="slds-item_label slds-text-color_weak">Signer:</dt>
                <dd class="slds-item_detail">{signerName} ({signerEmail})</dd>
            </dl>
        </div>
        
        <template if:true={generatedClause}>
            <div class="clause-preview slds-m-top_medium">
                <h4 class="slds-text-heading_small">Generated Clause Preview:</h4>
                <div class="slds-box slds-m-top_small">
                    <p>{generatedClause}</p>
                </div>
                
                <div class="compliance-status slds-m-top_small">
                    <lightning-badge 
                        label={complianceStatus} 
                        variant={complianceBadgeVariant}>
                    </lightning-badge>
                    <template if:true={complianceMessage}>
                        <p class="slds-m-top_x-small slds-text-color_weak">{complianceMessage}</p>
                    </template>
                </div>
            </div>
        </template>
        
        <template if:true={isLoadingPreview}>
            <div class="slds-m-top_medium slds-text-align_center">
                <lightning-spinner alternative-text="Generating preview..." size="small"></lightning-spinner>
                <p>Generating clause and checking compliance...</p>
            </div>
        </template>
    </div>
</template>

<template if:true={isStep4}>
    <div class="slds-p-around_medium slds-text-align_center">
        <template if:true={isGenerating}>
            <lightning-spinner alternative-text="Generating document..." size="large"></lightning-spinner>
            <h3 class="slds-text-heading_medium slds-m-top_medium">Generating Your Document...</h3>
            <p class="slds-m-top_small">This may take a few moments</p>
        </template>
        
        <template if:true={generationComplete}>
            <lightning-icon 
                icon-name="utility:success" 
                size="large" 
                variant="success"
                class="slds-m-bottom_medium">
            </lightning-icon>
            <h3 class="slds-text-heading_medium">Document Generated Successfully!</h3>
            <p class="slds-m-top_small">Your document has been created and signature request sent to {signerEmail}</p>
            
            <div class="generation-results slds-m-top_medium">
                <template if:true={documentId}>
                    <p><strong>Document ID:</strong> {documentId}</p>
                </template>
                <template if:true={signatureRequestId}>
                    <p><strong>Signature Request ID:</strong> {signatureRequestId}</p>
                </template>
            </div>
        </template>
        
        <template if:true={hasError}>
            <lightning-icon 
                icon-name="utility:error" 
                size="large" 
                variant="error"
                class="slds-m-bottom_medium">
            </lightning-icon>
            <h3 class="slds-text-heading_medium">Generation Failed</h3>
            <p class="slds-m-top_small slds-text-color_error">{errorMessage}</p>
        </template>
    </div>
</template>

<div slot="footer" class="slds-p-horizontal_medium">
    <lightning-button-group>
        <lightning-button 
            label="Previous" 
            onclick={handlePrevious} 
            disabled={isPreviousDisabled}>
        </lightning-button>
        
        <lightning-button 
            label={nextButtonLabel} 
            variant="brand" 
            onclick={handleNext} 
            disabled={isNextDisabled}>
        </lightning-button>
        
        <template if:true={showStartOver}>
            <lightning-button 
                label="Start Over" 
                onclick={handleStartOver}>
            </lightning-button>
        </template>
    </lightning-button-group>
</div>

</lightning-card>
</template> -->




<!-- version 4 -->
<!-- 
<template>
    <lightning-card title="Document Generation" icon-name="standard:document">
        <lightning-progress-indicator current-step={currentStep} type="path" variant="base">
            <lightning-progress-step label="Document Type" value="step-1"></lightning-progress-step>
            <lightning-progress-step label="Configuration" value="step-2"></lightning-progress-step>
            <lightning-progress-step label="Review" value="step-3"></lightning-progress-step>
            <lightning-progress-step label="Generate" value="step-4"></lightning-progress-step>
        </lightning-progress-indicator>

        <template if:true={isStep1}>
            <div class="slds-p-horizontal_medium">
                <h3 class="slds-section__title">Select Document Type</h3>
                <lightning-radio-group
                    name="contractType"
                    label="Contract Type"
                    options={contractTypeOptions}
                    value={contractType}
                    onchange={handleContractTypeChange}
                    required>
                </lightning-radio-group>
                
                <lightning-combobox
                    name="region"
                    label="Region"
                    placeholder="Select Region"
                    options={regionOptions}
                    value={region}
                    onchange={handleRegionChange}
                    required>
                </lightning-combobox>
                
                <lightning-combobox
                    name="role"
                    label="Role"
                    placeholder="Select Role"
                    options={roleOptions}
                    value={role}
                    onchange={handleRoleChange}
                    required>
                </lightning-combobox>
            </div>
        </template>

        <template if:true={isStep2}>
            <div class="slds-p-horizontal_medium">
                <h3 class="slds-section__title">Document Configuration</h3>
                <lightning-textarea
                    label="Additional Notes"
                    placeholder="Enter any additional requirements..."
                    value={additionalNotes}
                    onchange={handleNotesChange}>
                </lightning-textarea>
                
                <lightning-combobox
                    label="Output Format"
                    placeholder="Select Format"
                    options={formatOptions}
                    value={outputFormat}
                    onchange={handleFormatChange}
                    required>
                </lightning-combobox>
            </div>
        </template>

        <template if:true={isStep3}>
            <div class="slds-p-horizontal_medium">
                <h3 class="slds-section__title">Review Configuration</h3>
                <div class="review-section">
                    <p><strong>Contract Type:</strong> {contractType}</p>
                    <p><strong>Region:</strong> {region}</p>
                    <p><strong>Role:</strong> {role}</p>
                    <p><strong>Output Format:</strong> {outputFormat}</p>
                    <template if:true={additionalNotes}>
                        <p><strong>Notes:</strong> {additionalNotes}</p>
                    </template>
                </div>
                
                <template if:true={generatedClause}>
                    <div class="clause-preview">
                        <h4>Generated Clause Preview:</h4>
                        <div class="clause-content">{generatedClause}</div>
                        <div class="compliance-indicator">
                            <lightning-badge 
                                label={complianceStatus} 
                                variant={complianceBadgeVariant}>
                            </lightning-badge>
                        </div>
                    </div>
                </template>
            </div>
        </template>

        <template if:true={isStep4}>
            <div class="slds-p-horizontal_medium">
                <template if:true={isGenerating}>
                    <lightning-spinner alternative-text="Generating document..."></lightning-spinner>
                    <p>Generating your document...</p>
                </template>
                
                <template if:true={generationComplete}>
                    <div class="success-message">
                        <lightning-icon icon-name="utility:success" size="medium" variant="success"></lightning-icon>
                        <h3>Document Generated Successfully!</h3>
                        <p>Your document has been created and is ready for signature.</p>
                    </div>
                </template>
            </div>
        </template>

        <div slot="footer" class="slds-p-horizontal_medium">
            <lightning-button-group>
                <lightning-button
                    label="Previous"
                    onclick={handlePrevious}
                    disabled={isFirstStep}>
                </lightning-button>
                <lightning-button
                    label={nextButtonLabel}
                    variant="brand"
                    onclick={handleNext}
                    disabled={nextButtonDisabled}>
                </lightning-button>
            </lightning-button-group>
        </div>
    </lightning-card>
</template> -->



<!-- version 3 -->

<!-- 
<template>
    <lightning-card title="Document Generation Wizard" icon-name="standard:document">
        <lightning-progress-indicator 
            current-step={currentStep} 
            type="path" 
            variant="base">
            <lightning-progress-step label="Document Type" value="step-1"></lightning-progress-step>
            <lightning-progress-step label="Configuration" value="step-2"></lightning-progress-step>
            <lightning-progress-step label="Preview" value="step-3"></lightning-progress-step>
            <lightning-progress-step label="Generate" value="step-4"></lightning-progress-step>
        </lightning-progress-indicator>

        <template if:true={isStep1}>
            <div class="slds-m-around_medium">
                <h3 class="slds-text-heading_small slds-m-bottom_medium">Select Document Type</h3>
                
                <lightning-radio-group 
                    name="documentType"
                    label="Document Type"
                    options={documentTypeOptions}
                    value={selectedDocumentType}
                    onchange={handleDocumentTypeChange}
                    type="radio">
                </lightning-radio-group>

                <div class="slds-grid slds-wrap slds-m-top_medium">
                    <div class="slds-col slds-size_1-of-2 slds-p-right_small">
                        <lightning-combobox
                            name="region"
                            label="Region"
                            value={selectedRegion}
                            placeholder="Select Region"
                            options={regionOptions}
                            onchange={handleRegionChange}>
                        </lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-2 slds-p-left_small">
                        <lightning-combobox
                            name="role"
                            label="Role"
                            value={selectedRole}
                            placeholder="Select Role"
                            options={roleOptions}
                            onchange={handleRoleChange}>
                        </lightning-combobox>
                    </div>
                </div>
            </div>
        </template>

        <template if:true={isStep2}>
            <div class="slds-m-around_medium">
                <h3 class="slds-text-heading_small slds-m-bottom_medium">Document Configuration</h3>
                
                <lightning-textarea
                    name="additionalRequirements"
                    label="Additional Requirements (Optional)"
                    value={additionalRequirements}
                    onchange={handleAdditionalRequirements}
                    placeholder="Enter any specific requirements...">
                </lightning-textarea>

                <div class="slds-m-top_medium">
                    <lightning-button 
                        variant="brand" 
                        label="Generate Clause Preview" 
                        onclick={handleGeneratePreview}
                        disabled={isGenerating}>
                    </lightning-button>
                </div>

                <template if:true={generatedClause}>
                    <div class="slds-box slds-theme_shade slds-m-top_medium">
                        <h4 class="slds-text-heading_small">Generated Clause Preview:</h4>
                        <p class="slds-m-top_small">{generatedClause}</p>
                        
                        <template if:true={complianceStatus.message}>
                            <div class={complianceStatusClass}>
                                <lightning-icon 
                                    icon-name={complianceIcon} 
                                    size="x-small">
                                </lightning-icon>
                                <span class="slds-m-left_x-small">{complianceStatus.message}</span>
                            </div>
                        </template>
                    </div>
                </template>
            </div>
        </template>

        <template if:true={isStep3}>
            <div class="slds-m-around_medium">
                <h3 class="slds-text-heading_small slds-m-bottom_medium">Document Preview</h3>
                
                <div class="slds-box document-preview">
                    <lightning-formatted-rich-text value={documentPreview}></lightning-formatted-rich-text>
                </div>
            </div>
        </template>

        <template if:true={isStep4}>
            <div class="slds-m-around_medium slds-text-align_center">
                <lightning-icon 
                    icon-name="utility:success" 
                    size="large" 
                    class="slds-m-bottom_medium">
                </lightning-icon>
                <h3 class="slds-text-heading_medium">Document Generated Successfully!</h3>
                <p class="slds-m-top_small">Your document has been created and is ready for signature.</p>
                
                <div class="slds-m-top_large">
                    <lightning-button 
                        variant="brand" 
                        label="Request Signature" 
                        onclick={handleRequestSignature}
                        class="slds-m-right_small">
                    </lightning-button>
                    <lightning-button 
                        variant="neutral" 
                        label="Generate Another" 
                        onclick={handleReset}>
                    </lightning-button>
                </div>
            </div>
        </template>

        <div slot="footer" class="slds-clearfix">
            <div class="slds-float_left">
                <lightning-button 
                    variant="neutral" 
                    label="Previous" 
                    onclick={handlePrevious}
                    disabled={isFirstStep}>
                </lightning-button>
            </div>
            <div class="slds-float_right">
                <lightning-button 
                    variant="brand" 
                    label={nextButtonLabel} 
                    onclick={handleNext}
                    disabled={isNextDisabled}>
                </lightning-button>
            </div>
        </div>

        <template if:true={isLoading}>
            <lightning-spinner alternative-text="Processing..." size="medium"></lightning-spinner>
        </template>
    </lightning-card>
</template> -->





<!-- version 2 -->

<!-- <template>
    <lightning-card title="Document Generation" icon-name="standard:document">
        <lightning-progress-indicator current-step={currentStep} type="path" variant="base">
            <lightning-progress-step label="Document Type" value="step-1"></lightning-progress-step>
            <lightning-progress-step label="Template Selection" value="step-2"></lightning-progress-step>
            <lightning-progress-step label="Customization" value="step-3"></lightning-progress-step>
            <lightning-progress-step label="Review & Generate" value="step-4"></lightning-progress-step>
        </lightning-progress-indicator>
        
        <template if:true={isStep1}>
            <div class="slds-section slds-is-open">
                <h3 class="slds-section__title">
                    <span class="slds-truncate" title="Document Type">Document Type Selection</span>
                </h3>
                <div class="slds-section__content">
                    <lightning-combobox
                        name="documentType"
                        label="Select Document Type"
                        value={selectedDocumentType}
                        placeholder="Choose document type..."
                        options={documentTypeOptions}
                        onchange={handleDocumentTypeChange}>
                    </lightning-combobox>
                    
                    <lightning-combobox
                        name="region"
                        label="Region"
                        value={selectedRegion}
                        placeholder="Choose region..."
                        options={regionOptions}
                        onchange={handleRegionChange}>
                    </lightning-combobox>
                    
                    <lightning-combobox
                        name="role"
                        label="Signer Role"
                        value={selectedRole}
                        placeholder="Choose role..."
                        options={roleOptions}
                        onchange={handleRoleChange}>
                    </lightning-combobox>
                </div>
            </div>
        </template>
        
        <template if:true={isStep2}>
            <div class="slds-section slds-is-open">
                <h3 class="slds-section__title">
                    <span class="slds-truncate" title="Template Selection">Template Selection</span>
                </h3>
                <div class="slds-section__content">
                    <lightning-tile label="Available Templates" href="javascript:void(0);">
                        <template for:each={availableTemplates} for:item="template">
                            <lightning-input 
                                key={template.id}
                                type="radio" 
                                label={template.name}
                                name="templateSelection"
                                value={template.id}
                                onchange={handleTemplateSelection}>
                            </lightning-input>
                        </template>
                    </lightning-tile>
                </div>
            </div>
        </template>
        
        <template if:true={isStep3}>
            <div class="slds-section slds-is-open">
                <h3 class="slds-section__title">
                    <span class="slds-truncate" title="Customization">Clause Customization</span>
                </h3>
                <div class="slds-section__content">
                    <lightning-textarea
                        label="Generated Clause"
                        value={generatedClause}
                        onchange={handleClauseChange}
                        placeholder="Generated clause will appear here...">
                    </lightning-textarea>
                    
                    <lightning-button
                        variant="brand"
                        label="Regenerate Clause"
                        onclick={handleRegenerateClause}>
                    </lightning-button>
                    
                    <div class="slds-box slds-theme_default slds-m-top_medium">
                        <template if:true={complianceStatus.isCompliant}>
                            <lightning-icon icon-name="utility:success" variant="success" size="small"></lightning-icon>
                            <span class="slds-text-color_success">Compliance Check Passed</span>
                        </template>
                        <template if:false={complianceStatus.isCompliant}>
                            <lightning-icon icon-name="utility:error" variant="error" size="small"></lightning-icon>
                            <span class="slds-text-color_error">Compliance Issues Found</span>
                            <p>{complianceStatus.message}</p>
                        </template>
                    </div>
                </div>
            </div>
        </template>
        
        <template if:true={isStep4}>
            <div class="slds-section slds-is-open">
                <h3 class="slds-section__title">
                    <span class="slds-truncate" title="Review">Review & Generate</span>
                </h3>
                <div class="slds-section__content">
                    <div class="slds-box slds-theme_shade">
                        <h4>Document Summary:</h4>
                        <p><strong>Type:</strong> {selectedDocumentType}</p>
                        <p><strong>Region:</strong> {selectedRegion}</p>
                        <p><strong>Role:</strong> {selectedRole}</p>
                        <p><strong>Template:</strong> {selectedTemplate.name}</p>
                    </div>
                    
                    <div class="slds-box slds-m-top_medium">
                        <lightning-formatted-rich-text
                            value={finalDocumentPreview}>
                        </lightning-formatted-rich-text>
                    </div>
                </div>
            </div>
        </template>
        
        <div slot="footer" class="slds-clearfix">
            <div class="slds-float_right">
                <template if:false={isStep1}>
                    <lightning-button
                        variant="neutral"
                        label="Previous"
                        onclick={handlePrevious}
                        class="slds-m-right_x-small">
                    </lightning-button>
                </template>
                
                <template if:false={isStep4}>
                    <lightning-button
                        variant="brand"
                        label="Next"
                        onclick={handleNext}
                        disabled={isNextDisabled}>
                    </lightning-button>
                </template>
                
                <template if:true={isStep4}>
                    <lightning-button
                        variant="brand"
                        label="Generate Document"
                        onclick={handleGenerateDocument}
                        class="slds-m-left_x-small">
                    </lightning-button>
                </template>
            </div>
        </div>
    </lightning-card>
</template>
 -->











<!-- Version 1 -->

<!-- <template>
    <lightning-card title="Document Generation" icon-name="standard:document">
        <div class="slds-p-horizontal_medium"> -->
            <!-- Progress Indicator -->
            <!-- <lightning-progress-indicator 
                current-step={currentStep} 
                type="path" 
                variant="base">
                <lightning-progress-step label="Document Type" value="step-1"></lightning-progress-step>
                <lightning-progress-step label="Template Selection" value="step-2"></lightning-progress-step>
                <lightning-progress-step label="Customization" value="step-3"></lightning-progress-step>
                <lightning-progress-step label="Review & Generate" value="step-4"></lightning-progress-step>
            </lightning-progress-indicator> -->

            <!-- Step 1: Document Type Selection -->
            <!-- <template if:true={isStep1}>
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title">
                        <span class="slds-text-heading_small">Select Document Type</span>
                    </h3>
                    <div class="slds-section__content">
                        <lightning-radio-group 
                            name="contractType" 
                            label="Contract Type" 
                            options={contractTypeOptions} 
                            value={selectedContractType} 
                            onchange={handleContractTypeChange}
                            required>
                        </lightning-radio-group>
                        
                        <lightning-combobox 
                            name="region" 
                            label="Region" 
                            value={selectedRegion} 
                            placeholder="Select Region" 
                            options={regionOptions} 
                            onchange={handleRegionChange}
                            class="slds-m-top_medium"
                            required>
                        </lightning-combobox>
                        
                        <lightning-input 
                            type="text" 
                            name="role" 
                            label="Role" 
                            value={selectedRole} 
                            onchange={handleRoleChange}
                            placeholder="e.g., Developer, Manager"
                            class="slds-m-top_medium"
                            required>
                        </lightning-input>
                    </div>
                </div>
                
                <div class="slds-m-top_large">
                    <lightning-button 
                        variant="brand" 
                        label="Next" 
                        onclick={handleNext}
                        disabled={isStep1Invalid}>
                    </lightning-button>
                </div>
            </template> -->

            <!-- Step 2: Template Selection -->
            <!-- <template if:true={isStep2}>
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title">
                        <span class="slds-text-heading_small">Select Template</span>
                    </h3>
                    <div class="slds-section__content">
                        <lightning-radio-group 
                            name="template" 
                            label="Available Templates" 
                            options={templateOptions} 
                            value={selectedTemplate} 
                            onchange={handleTemplateChange}
                            required>
                        </lightning-radio-group>
                        
                        <lightning-textarea 
                            name="clauses" 
                            label="Additional Clauses (Optional)" 
                            value={additionalClauses} 
                            onchange={handleClausesChange}
                            placeholder="Enter custom clauses separated by semicolons"
                            class="slds-m-top_medium">
                        </lightning-textarea>
                    </div>
                </div>
                
                <div class="slds-m-top_large">
                    <lightning-button 
                        variant="neutral" 
                        label="Previous" 
                        onclick={handlePrevious}
                        class="slds-m-right_x-small">
                    </lightning-button>
                    <lightning-button 
                        variant="brand" 
                        label="Next" 
                        onclick={handleNext}
                        disabled={isStep2Invalid}>
                    </lightning-button>
                </div>
            </template> -->

            <!-- Step 3: Customization -->
            <!-- <template if:true={isStep3}>
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title">
                        <span class="slds-text-heading_small">Customize Document</span>
                    </h3>
                    <div class="slds-section__content">
                        <lightning-input 
                            type="text" 
                            name="documentTitle" 
                            label="Document Title" 
                            value={documentTitle} 
                            onchange={handleDocumentTitleChange}
                            required>
                        </lightning-input>
                        
                        <lightning-combobox 
                            name="outputFormat" 
                            label="Output Format" 
                            value={outputFormat} 
                            placeholder="Select Format" 
                            options={formatOptions} 
                            onchange={handleFormatChange}
                            class="slds-m-top_medium"
                            required>
                        </lightning-combobox>
                        
                        <lightning-checkbox-group 
                            name="compliance" 
                            label="Compliance Requirements" 
                            options={complianceOptions} 
                            value={selectedCompliance} 
                            onchange={handleComplianceChange}
                            class="slds-m-top_medium">
                        </lightning-checkbox-group>
                        
                        <lightning-checkbox 
                            name="signingRequired" 
                            label="E-Signature Required" 
                            checked={signingRequired} 
                            onchange={handleSigningRequiredChange}
                            class="slds-m-top_medium">
                        </lightning-checkbox>
                    </div>
                </div>
                
                <div class="slds-m-top_large">
                    <lightning-button 
                        variant="neutral" 
                        label="Previous" 
                        onclick={handlePrevious}
                        class="slds-m-right_x-small">
                    </lightning-button>
                    <lightning-button 
                        variant="brand" 
                        label="Next" 
                        onclick={handleNext}
                        disabled={isStep3Invalid}>
                    </lightning-button>
                </div>
            </template> -->

            <!-- Step 4: Review & Generate -->
            <!-- <template if:true={isStep4}>
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title">
                        <span class="slds-text-heading_small">Review Document Settings</span>
                    </h3>
                    <div class="slds-section__content">
                        <dl class="slds-list_horizontal slds-wrap">
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Contract Type:</dt>
                            <dd class="slds-item_detail slds-truncate">{selectedContractType}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Region:</dt>
                            <dd class="slds-item_detail slds-truncate">{selectedRegion}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Role:</dt>
                            <dd class="slds-item_detail slds-truncate">{selectedRole}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Document Title:</dt>
                            <dd class="slds-item_detail slds-truncate">{documentTitle}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Output Format:</dt>
                            <dd class="slds-item_detail slds-truncate">{outputFormat}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">E-Signature:</dt>
                            <dd class="slds-item_detail slds-truncate">{signingRequiredLabel}</dd>
                        </dl>
                        
                        <template if:true={generatedClause}>
                            <div class="slds-m-top_large">
                                <h4 class="slds-text-heading_small">Generated Clause Preview:</h4>
                                <div class="slds-box slds-theme_shade slds-m-top_small">
                                    <p>{generatedClause}</p>
                                </div>
                            </div>
                        </template>
                        
                        <template if:true={complianceStatus}>
                            <div class="slds-m-top_medium">
                                <lightning-badge 
                                    label={complianceStatusLabel} 
                                    variant={complianceStatusVariant}>
                                </lightning-badge>
                            </div>
                        </template>
                    </div>
                </div>
                
                <div class="slds-m-top_large">
                    <lightning-button 
                        variant="neutral" 
                        label="Previous" 
                        onclick={handlePrevious}
                        class="slds-m-right_x-small">
                    </lightning-button>
                    <lightning-button 
                        variant="success" 
                        label="Generate Document" 
                        onclick={handleGenerateDocument}
                        disabled={isGenerating}>
                    </lightning-button>
                </div>
            </template> -->

            <!-- Loading Spinner -->
            <!-- <template if:true={isGenerating}>
                <lightning-spinner 
                    alternative-text="Generating document..." 
                    size="medium">
                </lightning-spinner>
            </template> -->

            <!-- Success Message -->
            <!-- <template if:true={showSuccess}>
                <div class="slds-notify slds-notify_alert slds-theme_success" role="alert">
                    <span class="slds-assistive-text">Success</span>
                    <lightning-icon icon-name="utility:success" size="x-small" class="slds-m-right_x-small"></lightning-icon>
                    Document generated successfully! {successMessage}
                </div>
            </template> -->

            <!-- Error Message -->
            <!-- <template if:true={errorMessage}>
                <div class="slds-notify slds-notify_alert slds-theme_error" role="alert">
                    <span class="slds-assistive-text">Error</span>
                    <lightning-icon icon-name="utility:error" size="x-small" class="slds-m-right_x-small"></lightning-icon>
                    {errorMessage}
                </div>
            </template>
        </div>
    </lightning-card>
</template> -->












<!-- version 0 -->

<!-- <template>
    <lightning-card title="Document Generation" icon-name="standard:document">
        <div class="slds-p-horizontal_medium">
            <!-Progress Indicator -->
            <!-- <lightning-progress-indicator 
                current-step={currentStep} 
                type="path" 
                variant="base">
                <lightning-progress-step label="Document Type" value="step-1"></lightning-progress-step>
                <lightning-progress-step label="Template Selection" value="step-2"></lightning-progress-step>
                <lightning-progress-step label="Customization" value="step-3"></lightning-progress-step>
                <lightning-progress-step label="Review & Generate" value="step-4"></lightning-progress-step>
            </lightning-progress-indicator> -->

            <!-- Step 1: Document Type Selection -->
            <!-- <template if:true={isStep1}>
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title">
                        <span class="slds-text-heading_small">Select Document Type</span>
                    </h3>
                    <div class="slds-section__content">
                        <lightning-radio-group 
                            name="contractType" 
                            label="Contract Type" 
                            options={contractTypeOptions} 
                            value={selectedContractType} 
                            onchange={handleContractTypeChange}
                            required>
                        </lightning-radio-group>
                        
                        <lightning-combobox 
                            name="region" 
                            label="Region" 
                            value={selectedRegion} 
                            placeholder="Select Region" 
                            options={regionOptions} 
                            onchange={handleRegionChange}
                            class="slds-m-top_medium"
                            required>
                        </lightning-combobox>
                        
                        <lightning-input 
                            type="text" 
                            name="role" 
                            label="Role" 
                            value={selectedRole} 
                            onchange={handleRoleChange}
                            placeholder="e.g., Developer, Manager"
                            class="slds-m-top_medium"
                            required>
                        </lightning-input>
                    </div>
                </div>
                
                <div class="slds-m-top_large">
                    <lightning-button 
                        variant="brand" 
                        label="Next" 
                        onclick={handleNext}
                        disabled={isStep1Invalid}>
                    </lightning-button>
                </div>
            </template> -->

            <!-- Step 2: Template Selection -->
            <!-- <template if:true={isStep2}>
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title">
                        <span class="slds-text-heading_small">Select Template</span>
                    </h3>
                    <div class="slds-section__content">
                        <lightning-radio-group 
                            name="template" 
                            label="Available Templates" 
                            options={templateOptions} 
                            value={selectedTemplate} 
                            onchange={handleTemplateChange}
                            required>
                        </lightning-radio-group>
                        
                        <lightning-textarea 
                            name="clauses" 
                            label="Additional Clauses (Optional)" 
                            value={additionalClauses} 
                            onchange={handleClausesChange}
                            placeholder="Enter custom clauses separated by semicolons"
                            class="slds-m-top_medium">
                        </lightning-textarea>
                    </div>
                </div>
                
                <div class="slds-m-top_large">
                    <lightning-button 
                        variant="neutral" 
                        label="Previous" 
                        onclick={handlePrevious}
                        class="slds-m-right_x-small">
                    </lightning-button>
                    <lightning-button 
                        variant="brand" 
                        label="Next" 
                        onclick={handleNext}
                        disabled={isStep2Invalid}>
                    </lightning-button>
                </div>
            </template> -->

            <!-- Step 3: Customization -->
            <!-- <template if:true={isStep3}>
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title">
                        <span class="slds-text-heading_small">Customize Document</span>
                    </h3>
                    <div class="slds-section__content">
                        <lightning-input 
                            type="text" 
                            name="documentTitle" 
                            label="Document Title" 
                            value={documentTitle} 
                            onchange={handleDocumentTitleChange}
                            required>
                        </lightning-input>
                        
                        <lightning-combobox 
                            name="outputFormat" 
                            label="Output Format" 
                            value={outputFormat} 
                            placeholder="Select Format" 
                            options={formatOptions} 
                            onchange={handleFormatChange}
                            class="slds-m-top_medium"
                            required>
                        </lightning-combobox>
                        
                        <lightning-checkbox-group 
                            name="compliance" 
                            label="Compliance Requirements" 
                            options={complianceOptions} 
                            value={selectedCompliance} 
                            onchange={handleComplianceChange}
                            class="slds-m-top_medium">
                        </lightning-checkbox-group>
                        
                        <lightning-checkbox 
                            name="signingRequired" 
                            label="E-Signature Required" 
                            checked={signingRequired} 
                            onchange={handleSigningRequiredChange}
                            class="slds-m-top_medium">
                        </lightning-checkbox>
                    </div>
                </div>
                
                <div class="slds-m-top_large">
                    <lightning-button 
                        variant="neutral" 
                        label="Previous" 
                        onclick={handlePrevious}
                        class="slds-m-right_x-small">
                    </lightning-button>
                    <lightning-button 
                        variant="brand" 
                        label="Next" 
                        onclick={handleNext}
                        disabled={isStep3Invalid}>
                    </lightning-button>
                </div>
            </template> -->

            <!-- Step 4: Review & Generate -->
            <!-- <template if:true={isStep4}>
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title">
                        <span class="slds-text-heading_small">Review Document Settings</span>
                    </h3>
                    <div class="slds-section__content">
                        <dl class="slds-list_horizontal slds-wrap">
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Contract Type:</dt>
                            <dd class="slds-item_detail slds-truncate">{selectedContractType}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Region:</dt>
                            <dd class="slds-item_detail slds-truncate">{selectedRegion}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Role:</dt>
                            <dd class="slds-item_detail slds-truncate">{selectedRole}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Document Title:</dt>
                            <dd class="slds-item_detail slds-truncate">{documentTitle}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">Output Format:</dt>
                            <dd class="slds-item_detail slds-truncate">{outputFormat}</dd>
                            
                            <dt class="slds-item_label slds-text-color_weak slds-truncate">E-Signature:</dt>
                            <dd class="slds-item_detail slds-truncate">{signingRequiredLabel}</dd>
                        </dl>
                        
                        <template if:true={generatedClause}>
                            <div class="slds-m-top_large">
                                <h4 class="slds-text-heading_small">Generated Clause Preview:</h4>
                                <div class="slds-box slds-theme_shade slds-m-top_small">
                                    <p>{generatedClause}</p>
                                </div>
                            </div>
                        </template>
                        
                        <template if:true={complianceStatus}>
                            <div class="slds-m-top_medium">
                                <lightning-badge 
                                    label={complianceStatusLabel} 
                                    variant={complianceStatusVariant}>
                                </lightning-badge>
                            </div>
                        </template>
                    </div>
                </div>
                
                <div class="slds-m-top_large">
                    <lightning-button 
                        variant="neutral" 
                        label="Previous" 
                        onclick={handlePrevious}
                        class="slds-m-right_x-small">
                    </lightning-button>
                    <lightning-button 
                        variant="success" 
                        label="Generate Document" 
                        onclick={handleGenerateDocument}
                        disabled={isGenerating}>
                    </lightning-button>
                </div>
            </template> -->

            <!-- Loading Spinner -->
            <!-- <template if:true={isGenerating}>
                <lightning-spinner 
                    alternative-text="Generating document..." 
                    size="medium">
                </lightning-spinner>
            </template> -->

            <!-- Success Message -->
            <!-- <template if:true={showSuccess}>
                <div class="slds-notify slds-notify_alert slds-theme_success" role="alert">
                    <span class="slds-assistive-text">Success</span>
                    <lightning-icon icon-name="utility:success" size="x-small" class="slds-m-right_x-small"></lightning-icon>
                    Document generated successfully! {successMessage}
                </div>
            </template> -->

            <!-- Error Message -->
            <!-- <template if:true={errorMessage}>
                <div class="slds-notify slds-notify_alert slds-theme_error" role="alert">
                    <span class="slds-assistive-text">Error</span>
                    <lightning-icon icon-name="utility:error" size="x-small" class="slds-m-right_x-small"></lightning-icon>
                    {errorMessage}
                </div>
            </template>
        </div>
    </lightning-card>
</template> --> 
